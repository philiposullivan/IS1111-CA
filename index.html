<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IS1111 Assignment Resources</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 24px; line-height: 1.4; }
    h1 { margin-bottom: 6px; }
    h2 { margin-top: 32px; }
    .muted { color: #666; margin-top: 0; }
    section { margin: 28px 0; }
    pre { background:#0f172a; color:#e5e7eb; padding:16px; overflow:auto; border-radius:10px; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 10px; vertical-align: top; }
    th { background: #f3f4f6; position: sticky; top: 0; }
    .toolbar { margin: 12px 0; }
    .toolbar a { margin-right: 12px; }
    .divider { border: none; border-top: 3px solid #3b82f6; margin: 48px 0; }
  </style>
</head>
<body>
  <h1>IS1111 Assignment Resources</h1>
  <p class="muted">A1 and A2 content below. Raw file links included for Copilot + downloads.</p>

  <!-- ============ A1 SECTION ============ -->
  <hr class="divider" />
  <h2>ðŸ“¦ Assignment 1 â€” List-Based Inventory (v1)</h2>

  <div class="toolbar">
    <a href="files/A1_INSTRUCTIONS.txt" target="_blank" rel="noopener">Raw: A1 Instructions</a>
    <a href="files/A1_rubric.txt" target="_blank" rel="noopener">Raw: A1 Rubric</a>
    <a href="files/inventory_v1_template.txt" target="_blank" rel="noopener">Raw: A1 Template (.py)</a>
  </div>

  <section>
    <h3>A1 Instructions</h3>
    <pre><code id="a1instructions">Loadingâ€¦</code></pre>
  </section>

  <section>
    <h3>A1 Rubric</h3>
    <div id="a1rubricStatus">Loadingâ€¦</div>
    <div style="overflow:auto; max-width:100%;">
      <table id="a1rubricTable"></table>
    </div>
  </section>

  <section>
    <h3>inventory_v1_template.py</h3>
    <pre><code id="a1template">Loadingâ€¦</code></pre>
  </section>

  <!-- ============ A2 SECTION ============ -->
  <hr class="divider" />
  <h2>ðŸ“¦ Assignment 2 â€” Dictionary-Enhanced Inventory (v2)</h2>

  <div class="toolbar">
    <a href="files/A2_INSTRUCTIONS.txt" target="_blank" rel="noopener">Raw: A2 Instructions</a>
    <a href="files/A2_rubric.txt" target="_blank" rel="noopener">Raw: A2 Rubric</a>
    <a href="files/inventory_v2_template.py" target="_blank" rel="noopener">Raw: A2 Template (.py)</a>
  </div>

  <section>
    <h3>A2 Instructions</h3>
    <pre><code id="a2instructions">Loadingâ€¦</code></pre>
  </section>

  <section>
    <h3>A2 Rubric</h3>
    <div id="a2rubricStatus">Loadingâ€¦</div>
    <div style="overflow:auto; max-width:100%;">
      <table id="a2rubricTable"></table>
    </div>
  </section>

  <section>
    <h3>inventory_v2_template.py</h3>
    <pre><code id="a2template">Loadingâ€¦</code></pre>
  </section>

  <!-- ============ SCRIPTS ============ -->
  <script>
    async function loadText(selector, url) {
      const el = document.querySelector(selector);
      const res = await fetch(url, { cache: "no-store" });
      if (!res.ok) throw new Error(url + " â†’ HTTP " + res.status);
      el.textContent = await res.text();
    }

    function tsvToTable(tsv, tableEl) {
      const lines = tsv
        .replace(/\r/g, "")
        .split("\n")
        .filter(line => line.trim().length > 0);
      const rows = lines.map(line => line.split("\t"));
      const maxCols = Math.max(...rows.map(r => r.length));
      tableEl.innerHTML = "";
      rows.forEach((cells, rIdx) => {
        const tr = document.createElement("tr");
        while (cells.length < maxCols) cells.push("");
        cells.forEach(cell => {
          const el = document.createElement(rIdx === 0 ? "th" : "td");
          el.textContent = cell.trim();
          tr.appendChild(el);
        });
        tableEl.appendChild(tr);
      });
    }

    async function loadRubric(fileUrl, tableSelector, statusSelector) {
      try {
        const res = await fetch(fileUrl, { cache: "no-store" });
        if (!res.ok) throw new Error(fileUrl + " â†’ HTTP " + res.status);
        const tsv = await res.text();
        tsvToTable(tsv, document.querySelector(tableSelector));
        document.querySelector(statusSelector).textContent = "";
      } catch (e) {
        document.querySelector(statusSelector).textContent =
          "Could not load rubric. " + e;
      }
    }

    (async () => {
      // A1
      loadText("#a1instructions", "files/A1_INSTRUCTIONS.txt").catch(e => {
        document.querySelector("#a1instructions").textContent = String(e);
      });
      loadRubric("files/A1_rubric.txt", "#a1rubricTable", "#a1rubricStatus");
      loadText("#a1template", "files/inventory_v1_template.py").catch(e => {
        document.querySelector("#a1template").textContent = String(e);
      });

      // A2
      loadText("#a2instructions", "files/A2_INSTRUCTIONS.txt").catch(e => {
        document.querySelector("#a2instructions").textContent = String(e);
      });
      loadRubric("files/A2_rubric.txt", "#a2rubricTable", "#a2rubricStatus");
      loadText("#a2template", "files/inventory_v2_template.py").catch(e => {
        document.querySelector("#a2template").textContent = String(e);
      });
    })();
  </script>
</body>
</html>
